<main class="main">
  <div class="content">
    <div class="left-side">
      <app-angular-logo />
      <h1>Hello, {{ title }}</h1>
      <p>Congratulations! Your app is running. üéâ</p>
      <main>
        <h3>Generate a custom menu item</h3>
        <label for="theme">Suggest a menu item for a restaurant with this theme: </label>
        <div class="input-row">
          <input type="text" id="theme" [(ngModel)]="menuInput" />
          <button class="primary-btn" (click)="theme.set(menuInput)">Generate</button>
        </div>
        <div class="menu-item">
          @if (menuResource.isLoading()) {
          <div>Loading...</div>
          } @else if (menuResource.value()) {

          <h4>Generated Menu Item:</h4>
          <pre>{{ menuResource.value().menuItem }}</pre>
          }
        </div>
        <hr>
        <form id="study-plan-form">
          <label>
            Przedmiot (np. matematyka, historia, programowanie):
            <input type="text" name="subject" required [(ngModel)]="studyPlanInput.subject" />
          </label>
          <br />

          <label>
            Poziom umiejƒôtno≈õci (np. poczƒÖtkujƒÖcy, ≈õredniozaawansowany, zaawansowany):
            <input type="text" name="level" required [(ngModel)]="studyPlanInput.level" />
          </label>
          <br />

          <label>
            Czas na dzie≈Ñ (opcjonalnie, np. 1 godzina, 2 godziny):
            <input type="text" name="timePerDay" [(ngModel)]="studyPlanInput.timePerDay" />
          </label>
          <br />

          <label>
            Duration in Weeks (optional):
            <input type="number" name="durationWeeks" min="1" [(ngModel)]="studyPlanInput.durationWeeks" />
          </label>
          <br />
          <button (click)="onSubmit()">Generuj plan nauki</button>

        </form>
        <div class="menu-item">
          @if (studyPlanInputResource.isLoading()) {
          <div>≈Åadowanie...</div>
          } @else if (studyPlanInputResource.value()) {

          <h4>Wygenerowany plan:</h4>
          <strong> {{ studyPlanInputResource.value().title }}</strong>
          <ul>
            @for ( session of studyPlanInputResource.value().dailySessions; track session.day) {
            <li>
              {{ session.day }}
              <strong> Temat: </strong> {{ session.topic }}
              <strong> Zadanie: </strong> {{ session.tasks }}
              <strong> Materia≈Çy: </strong> {{ session.materials }}
            </li>
            }
          </ul>
          <strong>Opis:</strong> {{ studyPlanInputResource.value().description }}

          <p> {{ studyPlanInputResource.value().durationWeeks }} </p>
          }
        </div>
        <router-outlet />
      </main>
    </div>
    <div class="divider" role="separator" aria-label="Divider"></div>
    <div class="right-side">
      <app-link [router]="routerArray" />
    </div>
  </div>
</main>